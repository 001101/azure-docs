---
title: Azure Migrate support matrix for Hyper-V assessment and migration
description: Provides a summary of support settings and limitations for Hyper-V assessment and migration using the Azure Migrate service.
author: rayne-wiselman
manager: carmonm
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 06/02/2019
ms.author: raynew
---

# Support matrix for Hyper-V assessment and migration

You can use the [Azure Migrate service](migrate-overview.md) to assess and migrate machines to the Microsoft Azure cloud. This articles summarizes general support settings and limitations for assessing and migrating on-premises Hyper-V VMs.


## Azure Migrate versions

There are two versions of the Azure Migrate service:

- **Current version**: This version should be used for all new Azure Migrate projects, assessments, and migrations. [Learn more](whats-new.md#azure-migrate-new-version) about the new features in this version.
- **Previous version**: The previous version of Azure Migrate only provided assessment of on-premises VMware VMs for migration to Azure. You can't create new Azure Migrate projects in this version.


The support information in this article refers to the current Azure Migrate version.

## Supported migration scenarios

The table summarizes supported migration scenarios.

**Deployment** | **Details*** 
--- | --- 
**Assess on-premises Hyper-V VMs** | [Set up](tutorial-prepare-hyper-v.md) your first assessment.<br/><br/> [Run](scale-hyper-v-assessment.md) a large-scale assessment.
**Migrate Hyper-V VMs to Azure** | [Try out](tutorial-migrate-hyper-v.md) migration to Azure.
**Assess and migrate on-premises VMware VMs** | [Learn more](migrate-support-matrix-vmware.md) about VMware assessment and migration support.
**Migrate physical servers to Azure** | 
**Migrate AWS Windows instances to Azure** | 
**Migrate databases to Azure** | 

    
## Supported regions for migration

Azure Migrate currently supports 30 target regions for migration, including:

- Australia East, Australia Southeast
- Brazil South
- Canada Central, Canada East,
- Central India, South India,
- Central US, East US, East US 2, North Central US, South Central US,
- China East, China North
- East Asia, Southeast Asia
- Germany Central, Germany Northeast
- North Europe,
- Japan East, Japan West
- Korea Central, Korea South
- UK South, UK West 

West US 2 is the default location.



## Azure Migrate project support

**Support** | **Details**
--- | ---
Hyper-V VMs | Assess up to 10,000 VMs in a single project.

The project can include both VMware VMs and Hyper-V VMs, up to the assessment limits.




## Azure Migrate appliance support

**Support** | **Details**
--- | ---
**Azure Migrate project** | An appliance can be associated with a single project.
**Hyper-V limitations** | An appliance can discover up to 5000 VMs on a Hyper-V host.<br/> An appliance can connect to up to 300 Hyper-V hosts.
**Hyper-V appliance** | The appliance is set up as a Hyper-V VM.<br/> The appliance VM provided is Hyper-V VM version 5.0.<br/> The VM host must be running Windows Server 2012 R2 or later.<br/> It needs sufficient space to allocate 16 GB RAM, 4 virtual processors, and 1 external switch for the appliance VM.<br/> Appliance requires a static or dynamic IP address, and internet access.
An appliance can discover both VMware VMs and Hyper-V VMs in the same project, up to the supported limits. If VMs in the project are greater than appliance limits, then deploy multiple appliances.
**Migration support** | To start replicating machines, The Migration Gateway service on the appliance must be 1.18.7141.12919 or later. Sign into the appliance web app to check the version.

# Hyper-V host requirements

**Support** | **Details**
--- | ---
**Host deployment** | The Hyper-V host can be standalone or deployed in a cluster.
**Host operating system** | Windows Server 2016 or Windows Server 2012 R2.<br/> You can't assess VMs located on Hyper-V hosts running Windows Server 2019. However these VMs can be migrated using Azure Migrate Server Migration.
**PowerShell Remoting** | Must be enabled on each host.
**Hyper-V Replica** | Currently, if you use Hyper-V Replica (or you have multiple VMs with the same VM identifiers) and
discover both the original and replicated VMs using Azure Migrate, the assessment generated by Azure Migrate might not be accurate.


## Hyper-V VM assessment and migration

**Support** | **Details**
--- | ---
**Supported operating system** | All [Windows](https://support.microsoft.com/help/2721672/microsoft-server-software-support-for-microsoft-azure-virtual-machines) and [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros) operating systems that are supported by Azure can be migrated.
**Integration Services** | [Hyper-V Integration Services](https://docs.microsoft.com/virtualization/hyper-v-on-windows/reference/integration-services) must be running on VMs that you assess, in order to capture operating system information.
**Required changes for Azure** | Some VMs might require changes so that they can run in Azure. Azure Migrate makes these changes automatically for the following operating systems:<br/> - Red Hat Enterprise Linux 6.5+, 7.0+<br/> - CentOS 6.5+, 7.0+</br> - SUSE Linux Enterprise Server 12 SP1+<br/> - Ubuntu 14.04LTS, 16.04LTS, 18.04LTS<br/> - Debian 7,8<br/><br/> For other operating systems, you need to make adjustments manually before migration. The relevant articles contain instructions about how to do this.
**Linux boot** | If /boot is on a dedicated partition, it should reside on the OS disk, and not be spread across multiple disks.
If /boot is part of the root (/) partition, then the ‘/’ partition should be on the OS disk, and not span other disks.
**UEFI boot** | VMs with UEFI boot aren't supported for migration.
**Encrypted disks/volumes** | VMs with encrypted disks/volumes aren't supported for migration.
**RDM/passthrough disks** | If VMs have RDM or passthrough disks, these disks won't be replicated to Azure
**NFS** | NFS volumes mounted as volumes on the VMs won't be replicated.
**Target disk** | You can migrate to Azure VMs with managed disks only.


## Collected data

The Azure Migrate appliance collects machine metadata and performance data, as summarized in the table.


**Data** | **Details**
--- | ---
**Metadata** | VM display name; IP address; MAC address; operating system; number of cores/disks/NICs; memory/disk sizes
**Performance data** | CPU usage; memory usage; per disk information (Disk read/write throughput/Disk read/write operations per second); per NIC information (network in/out).

- Performance data is collected every 20 seconds for each metric. These 20 second datapoints are rolled up to create a single datapoint every five minutes, and sent to Azure for assessment calculation.
- Based on the percentile specified in the assessment, the appropriate value is selected from the five-minute datapoints for assessment computation.
  
## Disk support

**Support** | **Details**
--- | ---
Migrated disks | VMs can only be migrated to managed disks (standard HHD, premium SSD) in Azure.
   

## URL access requirements

The Azure Migrate appliance needs internet connectivity to the internet.

- When you deploy the appliance, Azure Migrate does a connectivity check to the URLs summarized in the table below.
- If you're using a URL-based firewall.proxy, allow access to these URLs, making sure that the proxy resolves any CNAME records received while looking up the URLs.

## Server assessment

**URL** | **Details**  
--- | --- 
*.portal.azure.com | Navigation to the Azure portal
*.windows.net | Sign in to your Azure subscription
*.microsoftonline.com | Creation of Azure Active Directory applications for appliance to service communications.
management.azure.com | Creation of Azure Active Directory applications for appliance to service communications.
dc.services.visualstudio.com | Logging and monitoring *.vault.azure.net | Manage secrets in Azure Key Vault
*.vault.azure.net | Persist secrets when communicating between agent and service.


## Server migration

**URL** | **Details**  
--- | ---
login.microsoftonline.com | Access control and identity management using Active Directory.
*.backup.windowsazure.com | Replication data transfer and coordination.
*.hypervrecoverymanager.windowsazure.com | Connect to Azure Migrate service URLs.
*.blob.core.windows.net | Upload data to storage accounts.
dc.services.visualstudio.com | Upload app logs used for internal monitoring.
time.windows.com | Verifies time sychronization between system and global time.



## Required ports

### Assessment

**Device** | **Connection**
--- | --- 
**Appliance** | Inbound connections on TCP port 3389 to allow remote desktop connections to the appliance.<br/> Inbound connections on port 44368 to remotely access the appliance management app using the URL: https://<appliance-ip-or-name>:44368<br/> Outbound connections on port 443 to send discovery and performance metadata to Azure Migrate.
**Hyper-V host/cluster** | Inbound connections on WinRM ports 5985 (HTTP) and 5986 (HTTPS) to pull configuration and performance metadata of the Hyper-V VMs using a Common Information Model (CIM) session.

### Migration

**Device** | **Connection**
--- | --- 
Hyper-V hosts/VMs | Outbound connections on HTTPS port 443 to send VM replication data to Azure Migrate.

## Next steps

[Prepare for Hyper-V VM assessment](tutorial-prepare-hyper-v.md) for migration.


 