---title: Known issues and Troubleshootingdescription: Known issues and troubleshooting Azure Kinect deviceauthor: joylitalms.author: joylitalms.date: 1/18/2019keywords: troubleshooting, update, bug, kinect, feedback, recovery, logging, tips---# TroubleshootingThis pages contains known issues and troubleshooting tips when using Sensor SDK with Azure Kinect DK. Please see also [product support pages](http://aka.ms/kinectsupport) for product hardware specific issues.## Known limitations / Work in ProgressSensor SDK is evolving and under active development, here's some input on what is ongoing### New in v0.8.0- Depth Engine separation- GPU optimization for RGBZ transform functions- Playback API (Cameras support)- Azure Kinect viewer capability to playback recording- Azure Kinect viewer shared updates for 3D point cloud- Recorder support for subordinate/master mode### Breaking changes from SDK v0.7.1 to v0.8.0- None### Breaking changes from SDK v0.6.0 to SDK v0.7.1- [image k4a_image_t](troubleshooting.md#k4a_image_t-breaking-change), old API is now deprecated- Refactored k4arecord_ namespace into k4a_record_ and k4a_playback_ ### Under development- Azure related samples- Linux RGB camera control support- Playback (IMU support)- Multiple device on single host PC (HW provisioning dependency - breaking change)### Backlog- Language support (C# and Python)- Depth compression## Recently fixed (SDK v0.8.x and FW 1.5.786013)- Bug 1175874: Device connected over type-C fails to work after reboot- Bug 1143605: [EV2] Running throughput_perf.exe in loop eventually causes device to be non-responsive- Bug 1174679: Recording length calculation uses wrong timestamp- Bug 1173699: IMU timestamps are not stable- Bug 1187243: K4Aviewer accelerometer Z reading is different from SDK 0.7.1## Known issuesSome selected bugs highlighted below that may impact users. See [selfhosting](selfhosting.md) on how to log bugs.### IMU- Bug 1182735: Firmware producing invalid IMU Accelerometer data (first 3 seconds may have invalid data)### Windows- Bug 1170631: [FW]Eden can't record video by using Windows Camera app (also voice recorder known to fail) - this is Windows side fix### Compatibility- Bug 1064843: Device fails to enumerate with ASMedia USB Controllers using ASMedia USB Drivers (Workaround for some cases is to use Microsoft inbox drivers)- Bug 1167140:2: Compat: TI USB 3.0 host controller / can't enumerate 2.0 audio device ### Reliability- Bug 1179166:[EV2] anti-flicker may detect wrong power frequency - Bug 1185462:[Depth v1.x.60]Read depth sensor Calibration data failed by NV_DATA_GET 2 command- Bug 1174430: [EV2] Anti-flicker fail to detect 50Hz power frequency when the 1st preview is in manual exposure### Synchronization- Bug 1174429: [EV2] External sync in wrong status if restart subordinate when master still streaming- Bug 1179319:[EV2] IMU output one sample before sync-in signal in external sync## Providing feedbackSend email to AKSupport@microsoft.com or send to send it in [Teams channel](https://teams.microsoft.com/l/team/19%3aa585af17a26245bb99ab7fcb98e8a6f2%40thread.skype/conversations?groupId=bc116cbe-e3a0-4252-987e-d71a5494a502&tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47)## k4a_image_t breaking change (SDKv0.7.1 deprecates unsupported API surface)SDK v0.6.0 introduced a change in the way images are handled. In prior releases k4a_capture_t was the only reference counted object. It was the basis for accessing color, depth, and IR, images. And when you were done with all those image types you released the entire capture. K4a_capture_t was limited in capabilities; such as there was not way to create a capture, no way to add an image, and no way for a single image to outlive the capture. With this new version of the SDK we introduce a new type, k4a_image_t, and change the way images are accessed via the capture.  The SDK reports k4a_capture_t’s just like it always has with k4a_device_get_capture. Now the user can use one of 3 API’s to get a k4a_image_t for a specific image type out of the image, such as color, depth, or IR. With the k4a_image_t the user can access all the image properties without have to keep the capture around. When down with the image call k4a_image_release. And like before when down with the capture, call k4a_capture_release.In this SDK release the following API’s have been added:- k4a_capture_create- k4a_capture_get_color_image- k4a_capture_get_depth_image- k4a_capture_get_ir_image- k4a_capture_set_depth_image- k4a_capture_set_ir_image- k4a_capture_set_temperature_k- k4a_capture_get_temperature_k- k4a_image_create- k4a_image_create_from_buffer- k4a_image_get_buffer- k4a_image_get_size- k4a_image_get_format- k4a_image_get_width_pixels- k4a_image_get_height_pixels- k4a_image_get_stride_bytes- k4a_image_get_timestamp_usec- k4a_image_get_exposure_usec- k4a_image_get_white_balance- k4a_image_get_iso_speed- k4a_image_set_timestamp_usec- k4a_image_set_exposure_time_usec- k4a_image_set_white_balance- k4a_image_set_iso_speed- k4a_image_reference- k4a_image_releaseWith this version of the SDK the following API’s are deprecated and will be completely removed from the next release. The API’s are present in this release as a courtesy to provide a window of time to port to the new API’s. Deprecated API’s:- k4a_capture_get_image_buffer- k4a_capture_get_temperature- k4a_capture_get_image_timestamp_usec- k4a_capture_get_image_exposure_usec- k4a_capture_get_image_white_balance- k4a_capture_get_image_iso_speed- k4a_capture_get_image_descriptorPorting- Replace k4a_capture_get_image_* API’s with k4a_capture_get_XXX_image and k4a_image_get_XXX    - Release the returned image with k4a_image_release- Replace k4a_capture_get_temperature with k4a_capture_get_temperature_k## Collecting logsYou can enable log collection to aid diagnosing issues:1. set K4A_ENABLE_LOG_TO_A_FILE=k4a.log2. set K4A_LOG_LEVEL=w3. Run scenario from command prompt (e.g. launch viewer)4. Navigate to k4a.log and share file.See below clip from header file for additional details:```/*** environment variables* K4A_ENABLE_LOG_TO_A_FILE =*    0    - completely disable logging to a file*    log\custom.log - log all messages to the path and file specified - must end in '.log' to*                     be considered a valid entry*    ** When enabled this takes precedence over the value of K4A_ENABLE_LOG_TO_STDOUT** K4A_ENABLE_LOG_TO_STDOUT =*    0    - disable logging to stdout*    all else  - log all messages to stdout** K4A_LOG_LEVEL =*    'c'  - log all messages of level 'critical' criticality*    'e'  - log all messages of level 'error' or higher criticality*    'w'  - log all messages of level 'warning' or higher criticality*    'i'  - log all messages of level 'info' or higher criticality*    't'  - log all messages of level 'trace' or higher criticality*    DEFAULT - log all message of level 'error' or higher criticality*/```## Device do not enumerate on device manager- Check the status LED behind the device, if it is blinking amber you have USB connectivity issue and it does not get enough power- Check that you have power cable connected and using USB3 port for data - Try changing USB3 port for the data connection (recommendation to use USB port close to motherboard, e.g. in back of the PC)- Check your cable, damaged or lower quality cables may cause unreliable enumeration (device keeps "blinking" in device manager)- If you have connected to laptop and running on battery it may be throttling the power to the port- Reboot host PC- If problem persist there may be compatibility issue- If failure happened during firmware update and device has not recovered by itself, perform [factory reset](azurekinect-fw-recovery.md)## Azure Kinect Viewer fails to open- Check first that you device enumerates on Windows device manager ![Azure Kinect cameras in Windows device manager](media/azurekinectdk-devicemanager.png)- Check if you have any other application using the device (e.g. Windows camera application), only single device at the time can use it.- Open Windows camera application and check if that works - Power cycle device, wait streaming LED to power off before using the device- Reboot host PC- If you are using your own build of SDK try using officially released version if that fixes the issue- If problem persist [collect logs](troubleshooting.md#Collecting-logs) and file feedback## Azure Kinect Viewer cannot find microphone- Check first that microphone array is enumerated in device manager - If device is enumerated and works otherwise correctly in Windows, the issue may be that after firmware update Windows has assigned different container ID to Depth Camera.- You can try to reset this by going to device manager and uninstalling "Azure Kinect Microphone Array"![Azure Kinect Mic Array](media/azurekinectdk-micarrayuninstall.png)- After that restart Azure Kinect Viewer and try again. ## Depth image is all white or blue- This may be caused by device being too close to surface like table, try moving around the device while using viewer## Device Firmware update issues- if correct version number is not reported after update you may need to power cycle the device - if firmware update get interrupted it may get into bad state and fail to enumerate. Unplug/plug device and wait 60 seconds to see if it can recover. If not then perform [firmware reset](azurekinect-fw-recovery.md)## Uninstalling SDK- Delete source/binaries that got downloaded during installation/setup