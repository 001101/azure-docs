---
title: Monitoring Azure Storage | Microsoft Docs
description: Description goes here.
author: normesta
services: storage
ms.service: storage
ms.topic: conceptual
ms.date: 11/21/2019
ms.author: normesta
ms.reviewer: fryu
---

# Monitoring Azure Storage

When you have critical applications and business processes relying on Azure resources, you want to monitor those resources for their availability, performance, and operation. This article describes the monitoring data generated by Azure Storage and how you can use the features of Azure Monitor to analyze and alert on this data.

## Monitor overview

The **Overview** page in the Azure portal for each storage resource includes a brief view of the database usage including its request and hourly billing usage. This is useful information but only a small amount of the monitoring data available. Some of this data is collected automatically and available for analysis as soon as you create the database while you can enable additional data collection with some configuration.

## What is Azure Monitor?
Azure Storage creates monitoring data using [Azure Monitor](../../azure-monitor/overview.md) which is a full stack monitoring service in Azure that provides a complete set of features to monitor your Azure resources in addition to resources in other clouds and on-premises. 

Start with the article [Monitoring Azure resources with Azure Monitor](../../azure-monitor/insights/monitor-azure-resource.md) which describes the following:

- What is Azure Monitor?
- Costs associated with monitoring
- Monitoring data collected in Azure
- Configuring data collection
- Standard tools in Azure for analyzing and alerting on monitoring data

The following sections build on this article by describing the specific data gathered from Azure Storage and providing examples for configuring data collection and analyzing this data with Azure tools.

## Monitoring data from Azure Storage

Azure Storage collects the same kinds of monitoring data as other Azure resources which are described in [Monitoring data from Azure resources](../../azure-monitor/insights/monitor-azure-resource.md#monitoring-data-from-Azure-resources). See [Azure Storage monitoring data reference](monitor-service-reference.md) for a detailed reference of the logs and metrics created by Azure Storage.

## Configuration

Platform metrics and the Activity log are collected automatically, but you must create a diagnostic setting to collect resource logs or forward them outside of Azure Monitor. See [Create diagnostic setting to collect platform logs and metrics in Azure](../../azure-monitor/platform/diagnostic-settings.md) for the detailed process for creating a diagnostic setting using the Azure portal, CLI, or PowerShell.

When you create a diagnostic setting, you specify which categories of logs to collect. The categories for Azure Storage are listed in the following table:

| Category | Description |
|:---|:---|
|  |  |
|  |  |
|  |  |

<!-- Fill in the namespace and provide a bullet list of possible filters.  -->
## Analyzing metric data
You can analyze metrics for [service-name] with metrics from other Azure services using Metrics explorer by opening **Metrics** from the **Azure Monitor** menu. See [Getting started with Azure Metrics Explorer](../platform/metrics-getting-started.md) for details on using this tool. All metrics for [service-name] are in the namespace **<!-- Namespace -->**, and you can use the following filters:

-
-

<!-- Fill in details on the tables that your service writes to.  -->
## Analyzing log data

> [!NOTE]
> Azure Storage logs in Azure Monitor is in public preview, and is available for preview testing in all public cloud regions. To enroll in the preview, see [this page](https://www.microsoft.com).  This preview enables logs for blobs (including Azure Data Lake Storage Gen2), files, queues, tables, premium storage accounts in general-purpose v1 and general-purpose v2 storage accounts. Classic storage accounts are not supported.

Data in Azure Monitor Logs is stored in tables which each table having its own set of unique properties. [service-name] stores data in the following tables.

| Table | Description |
|:---|:---|
|  |  |
|  |  |  


> [!IMPORTANT]
> When you select **Logs** from the [service-name] menu, Log Analytics is opened with the query scope set to the current <!-- Service resource -->. This means that log queries will only include data from that resource. If you want to run a query that includes data from other databases or data from other Azure services, select **Logs** from the **Azure Monitor** menu. See [Log query scope and time range in Azure Monitor Log Analytics](/azure/azure-monitor/log-query/scope/) for details.l

<!-- Add sample queries for your service. -->
### Sample queries
Following are queries that you can use to help you monitor your <!-- Service resource -->. 

```Kusto

```

<!-- Fill in the table with metric and log alerts that would be valuable for your service. -->
## Alerts
The following table lists common and recommended alert rules for Azure Cosmos DB.

| Alert type | Condition | Description |
|:---|:---|:---|
| | | |
| | | |

## Next steps

- See [[service-name] monitoring data reference](monitor-service-reference.md) for a reference of the logs and metrics created by Azure Cosmos DB.
- See [Monitoring Azure resources with Azure Monitor](../azure-monitor/insights/monitor-azure-resource.md) for details on monitoring Azure resources.

