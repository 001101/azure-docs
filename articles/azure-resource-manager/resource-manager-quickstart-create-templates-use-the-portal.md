---
title: Create first Azure Resource Manager template | Microsoft Docs
description: Learn how to create your first Azure Resource Manager template using the Azure portal, and who to deploy it
services: azure-resource-manager
documentationcenter: ''
author: mumian
manager: dougeby
editor: tysonn

ms.service: azure-resource-manager
ms.workload: multiple
ms.tgt_pltfrm: na
ms.devlang: na
ms.date: 06/25/2018
ms.topic: quickstart
ms.author: jgao
---

# Create and deploy your first Azure Resource Manager template

Learn how to create your first Azure Resource Manager template by generating one using the Azure portal, and how to edit and deploy the template from the portal.

Resource Manager templates are JSON files that define the resources you need to deploy for your solution. To create a template, you don't have to always start from scratch. In this tutorial, you learn how to generate a template using the Azure portal. You can them customize the template and deploy it.

The instructions in this tutorial create an Azure Storage account. You can use the same process to create other Azure resources.

## Generate a template using the portal

In this section, you create a storage account using the Azure portal. Before you deploy the storage account, you have the option to explore the template generated by the portal based on your configurations. You can save the template and reuse it in the future.

1. Sign on to the [Azure portal](https://portal.azure.com).
2. Select **Create a resource** > **Storage** > **Storage account - blob, file, table, queue**.

    ![Create an Azure storage account using the Azure portal](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-tutorial-create-storage-account-portal.png)
3. Enter the following information. Make sure to select **Automation options** instead of **Create** in the next step, so you can see the template before it is deployed.

    - **Name**: give your storage account a unique name. On the screenshot, the name is *mystorage0626*.
    - **Resource group**: create a new Azure resource group with the name of your choice. On the screenshot, the resource group name is *mystorage0626rg*.

    You can use the default values for the rest of the properties.

    ![Create an Azure storage account configuration using the Azure portal](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-tutorial-create-storage-account.png)

4. Select **Automation options** at the bottom of the screen. The portal shows the template on the **Template** tab:

    ![Generate a template from the portal](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-tutorial-create-storage-account-template.png)

    The main pane shows the template. It is a JSON file with the following four top-level elements. For more information, see [Understand the structure and syntax of Azure Resource Manager Templates](./resource-group-authoring-templates.md)

    Under the **Parameter** element, there are five parameters defined. To see the values you provide during deployment, select the **Parameters** tab.

5. Select the **Parameters** tab:

    ![Generate a template from the portal](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-tutorial-create-storage-account-template-parameters.png)

    These values are what you configured in the previous section. Using both the template and the parameters files, you can create the Azure resource account.

7. One the top of the tabs, there are three menu items:

    - **Download**: Download the template and the parameters file to your local computer.
    - **Add to library**: Add the template to the library to be reused in the future.
    - **Deploy**: Deploy the Azure storage account to Azure.

    In this tutorial, you use the **Add to library** option.

8. Select **Add to library**.
9. Enter **Name** and **Description**, and then select **Save**.

## Edit and deploy the template

In this section, you open the saved template from the template library, edit the template, and deploy the revised template.

There are five parameters defined in the template. Assume some of the values are used every time, you can revise the values with fixed values.

1. From the Azure portal, select **All services** from the left menu, enter **template** in the filter box, and then select **Template (PREVIEW)**.

    ![Azure Resource Manager templates](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-library.png)
2. Select the template you saved in the last section. The name used on the screenshot is *mystorage0626*.
3. Select **Edit**, and then select **Template added**.

    ![Azure Resource Manager templates](./media/resource-manager-quickstart-create-templates-use-the-portal/azure-resource-manager-template-tutorial-edit-storage-account-template.png)

4. Add a **variables** element, and then add four variables as shown in the previous screenshot:

    ```json
    "variables":{
        "location": "eastus",
        "accountType": "standard_LRS",
        "kind": "Storage",
        "httpsTrafficOnlyEnabled":false
    },
    ```

5. Remove the four parameters highlighted in the previous screenshot.
6. Update the properties of the **Microsoft.Storage/storageAccounts** resource to use the newly define variables instead of the parameters:

    ```json
    "location": "[variables('location')]",
    "type": "Microsoft.Storage/storageAccounts",
    "sku": {
        "name": "[variables('accountType')]"
    },
    "kind": "[variables('kind')]",
    "properties": {
        "supportsHttpsTrafficOnly": "[variables('httpsTrafficOnlyEnabled')]",
    ```

    The final template shall look like:

    ```json
    {
        "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
        "contentVersion": "1.0.0.0",
        "parameters": {
            "name": {
                "type":"string"
            }
        },
        "variables":{
            "location": "eastus",
            "accountType": "standard_LRS",
            "kind": "Storage",
            "httpsTrafficOnlyEnabled":false
        },
        "resources": [
            {
                "apiVersion": "2018-02-01",
                "name": "[parameters('name')]",
                "location": "[variables('location')]",
                "type": "Microsoft.Storage/storageAccounts",
                "sku": {
                    "name": "[variables('accountType')]"
                },
                "kind": "[variables('kind')]",
                "properties": {
                    "supportsHttpsTrafficOnly": "[variables('httpsTrafficOnlyEnabled')]",
                    "encryption": {
                        "services": {
                            "blob": {
                                "enabled": true
                            },
                            "file": {
                                "enabled": true
                            }
                        },
                        "keySource": "Microsoft.Storage"
                    }
                },
                "dependsOn": []
            }
        ]
    }
    ```
7. Select **OK**, and then select **Save** to save the changes.
8. Select **Deploy**.
9. Enter the following values:

    - **Resource group**: name your resource group with a unique name.
    - **Location**: select a location for the resource group.
    - **Name**: name your storage account with a unique name.
    - **I agree to the terms and conditions stated above**: (select)
10. Select **Purchase**.
11. Select the bell icon (notifications) from the top of the screen to see the deployment status.

## Clean up resources

When the Azure resources are no longer needed, clean up the resources you deployed by deleting the resource group.

1. From the Azure portal, select **Resource group** from the left menu.
2. Enter the resource group name in the **Filter by name** field.
3. Select the resource group name.  You shall see the storage account in the resource group.
4. Select **Delete resource group** from the top menu.

## Next steps
* To gain greater assistance with developing templates, you can install a VS Code extension. For more information, see [Use Visual Studio Code extension to create Azure Resource Manager template](resource-manager-vscode-extension.md)
* To learn more about the structure of a template, see [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md).
* To learn about the properties for a storage account, see [storage accounts template reference](/azure/templates/microsoft.storage/storageaccounts).
* To view complete templates for many different types of solutions, see the [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates/).
