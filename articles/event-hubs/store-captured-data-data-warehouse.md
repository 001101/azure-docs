---
title: 'Tutorial: Migrate event data to Azure Synapse Analytics - Azure Event Hubs'
description: 'Tutorial: This tutorial shows you how to capture data from your event hub into Azure Synapse Analytics by using an Azure function triggered by an event grid.' 
services: event-hubs
ms.date: 06/23/2020
ms.topic: tutorial
ms.custom: devx-track-csharp
---

# Tutorial: Migrate captured Event Hubs data to Azure Synapse Analytics using Event Grid and Azure Functions

Event Hubs [Capture](./event-hubs-capture-overview.md) is the easiest way to automatically deliver streamed data in Event Hubs to an Azure Blob storage or Azure Data Lake store. You can subsequently process and deliver the data to any other storage destinations of your choice, such as Azure Synapse Analytics or Cosmos DB. In this tutorial, you learn how you to capture data from your event hub into Azure Synapse Analytics by using an Azure function triggered by an [event grid](../event-grid/overview.md).

![Visual Studio](./media/store-captured-data-data-warehouse/EventGridIntegrationOverview.PNG)

- First, you create an event hub with the **Capture** feature enabled and set an Azure blob storage as the destination. Data generated by WindTurbineGenerator is streamed into the event hub and is automatically captured into Azure Storage as Avro files.
- Next, you create an Azure Event Grid subscription with the Event Hubs namespace as its source and the Azure Function endpoint as its destination.
- Whenever a new Avro file is delivered to the Azure Storage blob by the Event Hubs Capture feature, Event Grid notifies the Azure Function with the blob URI. The Function then migrates data from the blob to Azure Synapse Analytics.

In this tutorial, you do the following actions:

> [!div class="checklist"]
>
> - Deploy the infrastructure
> - Publish code to a Functions App
> - Create an Event Grid subscription from the Functions app
> - Stream sample data into Event Hub.
> - Verify captured data in Azure Synapse Analytics


[!INCLUDE [event-grid-event-hubs-functions-synapse-analytics.md](../../includes/event-grid-event-hubs-functions-synapse-analytics.md)]

## Next steps 
You can use powerful data visualization tools with your data warehouse to achieve actionable insights.

This article shows how to use [Power BI with Azure Synapse Analytics](/power-bi/connect-data/service-azure-sql-data-warehouse-with-direct-connect)