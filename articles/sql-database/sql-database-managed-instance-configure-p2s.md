---
title: 'Connect - P2S - SQL Database Managed Instance | Microsoft Docs'
description: Connect to an Azure SQL Database Managed Instance using SQL Server Management Studio using a point-to-site connection from an on-premises client computer.
keywords: 
services: sql-database
author: bonova
ms.reviewer: carlrab, srbozovi
ms.service: sql-database
ms.custom: managed instance
ms.topic: tutorial
ms.date: 09/05/2018
ms.author: bonova
manager: craigg

---
# Connect to an Azure SQL Database Managed Instance using a Point-to-Site connection

This quickstarts demonstrates how to connect to an Azure SQL Database Managed Instance using SQL Server Management Studio from an on-premises client computer over a Point-to-site connection. For information about Point-to-site connections, see [About Point-to-Site VPN](../vpn-gateway/point-to-site-about.md)

## Prerequisites

This quickstart uses as its starting point the resources created in these quickstarts: 

- [Create a Managed Instance](sql-database-managed-instance-get-started.md).
- [Configure an Azure SQL Database Managed Instance network for client connections](sql-database-managed-instance-network-configuration.md)

## Create a virtual machine in the new subnet in the VNet

The following steps show you how to create a virtual machine in the same VNet in which the Managed Instance is being created. 

1. Click **Create a resource** in the upper left-hand corner of the Azure portal.
2. Select **Compute**, and then select **Windows Server 2016 Datacenter** or **Windows 10**. This section of the tutorial is using Windows Server. Configuring Windows 10 is substantially similar. 

   ![compute](./media/sql-database-managed-instance-tutorial/compute.png)

3. Fill out the virtual machine form with the requested information, using the information in the following table:

   | Setting| Suggested value | Descriptionâ€¯|
   | ------ | --------------- | ----------- |
   |**Subscription**|Your subscription|For details about your subscriptions, see [Subscriptions](https://account.windowsazure.com/Subscriptions).|
   |**Resource Group**|Any valid resource group (new or existing)|For valid names, see [Naming rules and restrictions](https://docs.microsoft.com/azure/architecture/best-practices/naming-conventions).|
   |**Location**|Any valid location| For information about regions, see [Azure Regions](https://azure.microsoft.com/regions/).|
   |**Virtual Machine Name**|Any valid name|For valid names, see [Naming rules and restrictions](https://docs.microsoft.com/azure/architecture/best-practices/naming-conventions).|
   |**Admin Username**|Any valid user name|For valid names, see [Naming rules and restrictions](https://docs.microsoft.com/azure/architecture/best-practices/naming-conventions).| 
   |**Admin Password**|Any valid password|The password must be at least 12 characters long and meet the [defined complexity requirements](../virtual-machines/windows/faq.md#what-are-the-password-requirements-when-creating-a-vm).| 
   |Virtual Machine Size|Any valid machine size|The default is sufficient for this quickstart.
   |**Location**|Any valid location|Leave default value to use the resource group location.|
   |**Virtual Network Name**|The Managed Instance VNet| This value is prepopulated for you as **MyNewVNet** if you did not change the VNet name.|
   |**Subnet Name**|The subnet name for the client connection|This value is prepopulated for you as **Default** if you did not change the subnet names |
   |**_artifacts Locatione**|The base uri where artifacts required by this template are located|Do not change this value|
   |**_artifacts Location Sas Token**|The Sas token required to access the _artifacts location| Do not change this value - a Sas token will be automatically generated by the scripts associated with the template you are using.
   ||||

   ![virtual machine create form](./media/sql-database-managed-instance-configure-vm/virtual-machine-create-form.png)

8. Click **Purchase** to start the virtual machine deployment.
 
## Connect to virtual machine

The following steps show you how to connect to your newly created virtual machine using a remote desktop connection.

1. After deployment completes, go to the virtual machine resource.

    ![VM](./media/sql-database-managed-instance-tutorial/vm.png)  

2. Click the **Connect** button on the virtual machine properties. A Remote Desktop Protocol file (.rdp file) is created and downloaded.
3. To connect to your VM, open the downloaded RDP file. 
4. When prompted, click **Connect**. On a Mac, you need an RDP client such as this [Remote Desktop Client](https://itunes.apple.com/us/app/microsoft-remote-desktop/id715768417?mt=12) from the Mac App Store.

5. Enter the user name and password you specified when creating the virtual machine, then click **Ok**.

6. You may receive a certificate warning during the sign-in process. Click **Yes** or **Continue** to proceed with the connection.

You are connected to your virtual machine in the Server Manager dashboard.

> [!IMPORTANT]
> Do not continue until your Managed Instance is successfully provisioned. After it is provisioned, retrieve the host name for your instance in the **Managed instance** field on the **Overview** tab for your Managed Instance. The name is similar to this: **drfadfadsfd.tr23.westus1-a.worker.database.windows.net**.

## Install SSMS and connect to the Managed Instance

The following steps show you how to download and install SSMS, and then connect to your Managed Instance.

1. In Server Manager, click **Local Server** in the left-hand pane.

    ![server manager properties](./media/sql-database-managed-instance-tutorial/server-manager-properties.png)  

2. In the **Properties** pane, click **On** to modify the IE Enhanced Security Configuration.
3. In the **Internet Explorer Enhanced Security Configuration** dialog box, click **Off** in the Administrators section of the dialog box and then click **OK**.

    ![internet explorer enhanced security configuration](./media/sql-database-managed-instance-tutorial/internet-explorer-security-configuration.png)  
4. Open **Internet Explorer** from the task bar.
5. Select **Use recommended security and compatibility settings** and then click **OK** to complete the setup of Internet Explorer 11.
6. Enter https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms in the URL address box and click **Enter**. 
7. Download the most recent version of SQL Server Management Studio and click **Run** when prompted.
8. When prompted, click **Install** to begin.
9. When the installation completes, click **Close**.
10. Open SSMS.
11. In the **Connect to Server** dialog box, enter the **host name** for your Managed Instance in the **Server name** box, select **SQL Server Authentication**, provide your login and password, and then click **Connect**.

    ![ssms connect](./media/sql-database-managed-instance-tutorial/ssms-connect.png)  

After you connect, you can view your system and user databases in the Databases node, and various objects in the Security, Server Objects, Replication, Management, SQL Server Agent, and XEvent Profiler nodes.

> [!NOTE]
> To restore an existing SQL database to a Managed instance, you can use the [Azure Database Migration Service (DMS) for migration](../dms/tutorial-sql-server-to-managed-instance.md) to restore from a database backup file, the [T-SQL RESTORE command](sql-database-managed-instance-restore-from-backup-tutorial.md) to restore from a database backup file, or a [Import from a BACPAC file](sql-database-import.md).

## Next steps

Now that you have learned how to connect to your Managed Instance from an Azure virtual machine, you are ready to learn how to connect from an on-premises client computer using a [Point-to-site connection](sql-database-managed-instance-connect-p2s.md)